(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[15],{Y5yc:function(e,a,t){"use strict";t.r(a);t("sRBo");var n,i,o,r=t("kaz8"),s=(t("fOrg"),t("+KLJ")),c=t("p0pE"),l=t.n(c),g=(t("2qtc"),t("kLXV")),m=t("2Taf"),u=t.n(m),p=t("vZ4D"),d=t.n(p),h=t("l4Ni"),f=t.n(h),b=t("ujKo"),v=t.n(b),y=t("MhPg"),w=t.n(y),E=t("q1tI"),M=t.n(E),O=t("MuoO"),j=t("Y2fQ"),C=t("wY1l"),F=t.n(C),k=t("QBZU"),q=t("w2qy"),L=t.n(q),N=(k["a"].Tab,k["a"].UserName),S=k["a"].Password,T=(k["a"].Mobile,k["a"].Captcha,k["a"].Submit),A=(n=Object(O["connect"])(function(e){var a=e.login,t=e.loading;return{login:a,submitting:t.effects["login/login"]}}),n((o=function(e){function a(){var e,t;u()(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=f()(this,(e=v()(a)).call.apply(e,[this].concat(i))),t.state={type:"account",autoLogin:!0},t.onTabChange=function(e){t.setState({type:e})},t.onGetCaptcha=function(){return new Promise(function(e,a){t.loginForm.validateFields(["mobile"],{},function(n,i){if(n)a(n);else{var o=t.props.dispatch;o({type:"login/getCaptcha",payload:i.mobile}).then(e).catch(a),g["a"].info({title:Object(j["formatMessage"])({id:"app.login.verification-code-warning"})})}})})},t.handleSubmit=function(e,a){var n=t.state.type;if(!e){var i=t.props.dispatch;i({type:"login/login",payload:l()({},a,{type:n})})}},t.changeAutoLogin=function(e){t.setState({autoLogin:e.target.checked})},t.renderMessage=function(e){return M.a.createElement(s["a"],{style:{marginBottom:24},message:e,type:"error",showIcon:!0})},t}return w()(a,e),d()(a,[{key:"render",value:function(){var e=this,a=this.props,t=a.login,n=a.submitting,i=this.state,o=i.type,s=i.autoLogin;return M.a.createElement("div",{className:L.a.main},M.a.createElement(k["a"],{defaultActiveKey:o,onTabChange:this.onTabChange,onSubmit:this.handleSubmit,ref:function(a){e.loginForm=a}},"error"===t.status&&"account"===t.type&&!n&&this.renderMessage(Object(j["formatMessage"])({id:"app.login.message-invalid-credentials"})),M.a.createElement(N,{name:"name",placeholder:"".concat(Object(j["formatMessage"])({id:"app.login.userName"})),rules:[{required:!0,message:Object(j["formatMessage"])({id:"validation.userName.required"})}]}),M.a.createElement(S,{name:"pwd",placeholder:"".concat(Object(j["formatMessage"])({id:"app.login.password"})),rules:[{required:!0,message:Object(j["formatMessage"])({id:"validation.password.required"})}],onPressEnter:function(a){a.preventDefault(),e.loginForm.validateFields(e.handleSubmit)}}),M.a.createElement("div",null,M.a.createElement(r["a"],{checked:s,onChange:this.changeAutoLogin},M.a.createElement(j["FormattedMessage"],{id:"app.login.remember-me"}))),M.a.createElement(T,{loading:n},M.a.createElement(j["FormattedMessage"],{id:"app.login.login"})),M.a.createElement("div",{className:L.a.other},M.a.createElement(F.a,{className:L.a.register,to:"/user/register"},M.a.createElement(j["FormattedMessage"],{id:"app.login.signup"})))))}}]),a}(E["Component"]),i=o))||i);a["default"]=A}}]);